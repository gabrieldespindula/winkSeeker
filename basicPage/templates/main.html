<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>Local http server crawler</title>
  </head>
  <body class='bg-light'>
    <div class="container p-5 bg-white">
      <h2>Local http server crawler</h2>
      <div class="row pt-3">
        <div class="col-12">
          <p class="text-justify">
            This page searches every possible IP sending a GET request and hearing back from it. The listed IP adresses answered with 200, if the webserver you're looking for gives a different answer to a GET request sent to "/", it won't be listed. However you might look the browser's debug window to find more. The search priority takes in consideration the most common default configurations out there. If you're looking for it in a home network it will probably be quick, but an enterprise could make things difficult. It uses port 80 by default, because that's the most common for http, but you can also change it.</br>If you want to facilitate the search, add filters telling the subnet mask, or default gateway. If you already waited a couple of minutes and don't want to add filters, take a cup of coffee or read a book...
          </p>
        </div>
      </div>
      <div class="row pt-3">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              Filter
            </div>
            <div class="card-body">
              <form>
                <div class="form-group">
                  <label for="maskFilter">Subnet mask</label>
                  <input type="text" class="form-control" id="maskFilterInput" value="255.255.255.0" onChange="filterForm.getMask()">
                </div>
                <div class="form-group">
                  <label for="gatewayFilter">Default gateway</label>
                  <input type="text" class="form-control" id="gatewayFilterInput" aria-describedby="gatewayFilterHelp" value="192.168.0.1" onChange="filterForm.getGateway()">
                </div>
                <div class="form-group">
                  <p class="text-justify">Using the filters above there are <value id="prossibilities"></value> possibilities</p>
                  <div id="progressGroup">
                    <div class="progress"  id="progressGroup">
                      <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%" id="progress"></div>
                    </div>
                    <small id="progressMessage" class="form-text text-muted">Progress message</small>
                  </div>
                </div>
                <button type="button" class="btn btn-primary" id="btnStartStop" onClick="filterForm.button.onClick()">Start search</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="row pt-3">
        <div class="col-12">
          <div class="card" id="searchWindow">
            <div class="card-header">
              Results
            </div>
            <div class="card-body">
            	<table class="table">
                <tbody id='winkResults'>
                </tbody>
            	</table>
              <div class="text-center" id="searchSpinner">
                <div class="spinner-border" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Application specific JavaScript -->
      <script src="/static/js/winkBack.js"></script>
      <script src="/static/js/app.js"></script>
    </div>
  </body>
</html>
